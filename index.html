<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Teacher's Game Hub</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="assets/style.css"> 
    <script defer src="assets/script.js"></script>

    <style>
        :root {
            --bg-color: #f8f9fa; 
            --primary-color: #16213e; 
            --secondary-color: #0f3460; 
            --accent-color: #e94560; 
            --accent-hover: #d6304c;
            --text-color: #2d3436; 
            --card-bg: #ffffff;
            --font-main: 'Poppins', sans-serif;
        }
        * { box-sizing: border-box; }
        body { font-family: var(--font-main); background-color: var(--bg-color); color: var(--text-color); line-height: 1.6; margin: 0; min-height: 100vh; display: flex; flex-direction: column; }

        /* HEADER */
        header { background-color: var(--primary-color); color: white; padding: 15px 40px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000; }
        header h1 { margin: 0; font-size: 1.5rem; font-weight: 700; color: var(--accent-color); cursor: pointer; }
        nav { display: flex; gap: 20px; }
        nav a { color: rgba(255, 255, 255, 0.8); text-decoration: none; padding: 8px 12px; font-weight: 500; position: relative; transition: color 0.3s; cursor: pointer; }
        nav a::after { content: ''; position: absolute; width: 0; height: 2px; bottom: 0; left: 0; background-color: var(--accent-color); transition: width 0.3s; }
        nav a:hover::after, nav a.active-link::after { width: 100%; }
        nav a:hover, nav a.active-link { color: white; }
        
        /* VIEW CONTROL */
        .view-section { display: none; animation: fadeIn 0.5s ease-in-out; flex: 1; }
        .view-section.active-view { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* HERO */
        .hero { background: linear-gradient(135deg, #16213e 0%, #0f3460 100%); color: white; padding: 80px 20px; text-align: center; border-bottom-left-radius: 50px; border-bottom-right-radius: 50px; margin-bottom: 40px; box-shadow: 0 10px 30px rgba(22, 33, 62, 0.2); }
        .hero h2 { font-size: 2.8rem; margin-bottom: 15px; font-weight: 700; }
        .hero p { font-size: 1.2rem; margin-bottom: 30px; opacity: 0.9; max-width: 700px; margin-left: auto; margin-right: auto; }
        .hero .btn { background-color: var(--accent-color); color: white; padding: 12px 35px; border-radius: 30px; text-decoration: none; font-weight: 600; transition: all 0.3s; display: inline-block; box-shadow: 0 4px 15px rgba(233, 69, 96, 0.4); cursor: pointer; }
        .hero .btn:hover { background-color: var(--accent-hover); transform: translateY(-3px); }
        
        /* GRIDS & CARDS */
        .grade-section-title { text-align: left; color: var(--primary-color); margin: 50px auto 30px auto; padding: 10px 20px; border-left: 5px solid var(--accent-color); max-width: 1200px; font-size: 2rem; font-weight: 700; background: linear-gradient(to right, #e945601a, transparent); border-radius: 0 10px 10px 0; }
        .games-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 30px; padding: 0 20px; max-width: 1200px; margin: 0 auto 40px auto; }
        .game-card { background: var(--card-bg); border-radius: 20px; padding: 30px; text-align: center; transition: all 0.4s ease; display: flex; flex-direction: column; justify-content: space-between; border: 1px solid rgba(0,0,0,0.05); }
        .game-card:hover { transform: translateY(-10px); }
        
        .card-game { border-bottom: 5px solid var(--accent-color); box-shadow: 0 10px 25px rgba(233, 69, 96, 0.15); background-color: #fff8f8; }
        .card-game:hover { box-shadow: 0 15px 35px rgba(233, 69, 96, 0.25); }
        
        .card-activity { border-bottom: 5px solid #3498db; box-shadow: 0 10px 25px rgba(52, 152, 219, 0.15); background-color: #f8fbff; }
        .card-activity:hover { box-shadow: 0 15px 35px rgba(52, 152, 219, 0.25); }

        .game-card h3 { color: var(--primary-color); margin: 15px 0 10px 0; font-size: 1.3rem; font-weight: 600; }
        .game-card p { color: #636e72; font-size: 0.95rem; margin-bottom: 25px; }
        .play-btn { display: inline-block; background-color: var(--primary-color); color: white; padding: 10px 25px; border-radius: 50px; text-decoration: none; font-weight: 600; margin-top: auto; transition: background 0.3s; }
        .play-btn:hover { background-color: var(--secondary-color); }
        .level-badge { color: white; padding: 5px 12px; border-radius: 50px; font-size: 0.75rem; margin-bottom: 5px; display: inline-block; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; align-self: center; }

        /* STATIC PAGES */
        .static-content { max-width: 900px; margin: 40px auto; padding: 40px; background: white; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); text-align: center; }
        .contact-link { font-size: 1.5rem; color: var(--accent-color); font-weight: bold; text-decoration: none; }
        .contact-link:hover { text-decoration: underline; }

        /* FOOTER */
        footer { background-color: var(--primary-color); color: white; text-align: center; padding: 30px 20px; margin-top: auto; }
        footer a { color: var(--accent-color); text-decoration: none; font-weight: bold; }
        
        @media (max-width: 768px) { header { flex-direction: column; gap: 15px; padding: 15px; } .hero h2 { font-size: 2rem; } nav { flex-wrap: wrap; justify-content: center; } }
    </style>
</head>
<body>

    <header>
        <h1 onclick="switchView('home')">üéì English Game Hub</h1>
        <nav id="navbar">
            <a href="#" onclick="switchView('home')" class="active-link">Home</a>
            <a href="#" onclick="switchView('games')">Games</a>
            <a href="#" onclick="switchView('activities')">Interactive Activities</a> 
            <a href="#" onclick="switchView('about')">About</a>
            <a href="#" onclick="switchView('contact')">Contact</a>
        </nav>
    </header>

    <main>
        <div id="view-content" class="view-section active-view">
            <section class="hero">
                <h2 id="hero-title">Welcome to Your Learning Playground!</h2>
                <p id="hero-desc">Fun and interactive English games and activities, organized by grade level! üß†</p>
                <a href="#all-content-container" class="btn">üëá Start Learning</a>
            </section>

            <section id="all-content-container">
                <h2 style="text-align: center; color: var(--primary-color); padding-top: 20px;">üî• All Content</h2>
                <p id="loading-message" style="text-align:center; padding:40px;">ƒ∞√ßerikler y√ºkleniyor... L√ºtfen bekleyin.</p>
            </section>
        </div>

        <div id="view-about" class="view-section">
            <section class="hero" style="padding: 60px 20px;"><h2>About the Teacher</h2></section>
            <div class="static-content">
                <h3>üë®‚Äçüè´ Abdullah Aydƒ±nhan</h3>
                <p>English teacher passionate about creating interactive and modern learning tools for students.</p>
                <hr style="margin: 30px 0; border: 0; border-top: 1px solid #eee;">
                <h3 style="color: var(--accent-color);">üéØ Purpose</h3>
                <p>This platform is designed for English language learners to enjoy vocabulary, grammar, and speaking practice.</p>
            </div>
        </div>

        <div id="view-contact" class="view-section">
            <section class="hero" style="padding: 60px 20px;"><h2>Get in Touch</h2></section>
            <div class="static-content">
                <p>Have questions or suggestions? Feel free to reach out!</p>
                <p>üìß Email:</p>
                <a href="mailto:abdullahaydinhan@gmail.com" class="contact-link">abdullahaydinhan@gmail.com</a>
            </div>
        </div>
    </main>

    <footer>
        <p>¬© 2025 English Teacher‚Äôs Game Hub | Designed with ‚ù§Ô∏è for students</p>
    </footer>

<script>
    // --- AYARLAR ---
    // NOT: Artƒ±k API kullanmƒ±yoruz, bu y√ºzden limit yok!
    
    // Sƒ±nƒ±f sƒ±rasƒ± (JSON karƒ±≈üƒ±k gelebilir, burada sƒ±raya diziyoruz)
    const GRADE_ORDER = ["9TH_GRADE", "10TH_GRADE", "11TH_GRADE", "12TH_GRADE"]; 
    
    const allContentContainer = document.getElementById('all-content-container');
    let globalAllData = [];

    // --- √ñZEL OYUN Bƒ∞LGƒ∞LERƒ∞ ---
    const customGameDetails = {
        "9.1.R. Land of Fire PAGE 30.html": { title: "Land of Fire Reading (Page 30)", level: "Azerbaijan Activity", desc: "Azerbaycan okuma anlama pratiƒüi.", badgeColor: "#f39c12" },
        "9.1.R. Getting Ready for a Safer Digital World Page 34.html": { title: "Safer Digital World (Page 34)", level: "Cybersecurity Quiz", desc: "Siber g√ºvenlik kelime ve okuma pratiƒüi.", badgeColor: "#e94560" },
        "9.1.R. Somewhere Far Away PAGE 32.html": { title: "Somewhere Far Away Reading", level: "Chile Activity", desc: "≈ûili ile ilgili okuma ve anlama pratiƒüi.", badgeColor: "#00b894" },
    };

    // --- G√ñR√úN√úM DEƒûƒ∞≈ûTƒ∞RME ---
    window.switchView = function(viewName) {
        document.querySelectorAll('nav a').forEach(el => el.classList.remove('active-link'));
        document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active-view'));

        if(viewName === 'about') {
            document.getElementById('view-about').classList.add('active-view');
            document.querySelectorAll('nav a')[3].classList.add('active-link');
        } else if(viewName === 'contact') {
            document.getElementById('view-contact').classList.add('active-view');
            document.querySelectorAll('nav a')[4].classList.add('active-link');
        } else {
            document.getElementById('view-content').classList.add('active-view');
            if(viewName === 'home') {
                displayContent('All');
                document.querySelectorAll('nav a')[0].classList.add('active-link');
            } else if (viewName === 'games') {
                displayContent('Games');
                document.querySelectorAll('nav a')[1].classList.add('active-link');
            } else if (viewName === 'activities') {
                displayContent('Interactive_Activities');
                document.querySelectorAll('nav a')[2].classList.add('active-link');
            }
        }
    };

    // --- JSON Y√úKLEME (OTOMASYON SONUCU) ---
    async function loadAllContent() {
        document.getElementById('loading-message').style.display = 'block';
        try {
            // ROBOTUN OLU≈ûTURDUƒûU DOSYAYI OKUYORUZ
            // Cache (√∂nbellek) sorununu √∂nlemek i√ßin sonuna tarih ekliyoruz
            const response = await fetch('games_data.json?t=' + new Date().getTime());
            
            if (!response.ok) throw new Error('Veri dosyasƒ± hen√ºz olu≈ümadƒ±. L√ºtfen 1-2 dakika bekleyip sayfayƒ± yenileyin.');
            
            const data = await response.json();
            globalAllData = data;
            displayContent('All'); 

        } catch (error) {
            console.error('Hata:', error);
            allContentContainer.innerHTML = `<p style="text-align:center; color:#e94560; padding:20px;">‚ö†Ô∏è ƒ∞√ßerik listesi hazƒ±rlanƒ±yor...<br>L√ºtfen sayfayƒ± 1 dakika sonra yenileyin.</p>`;
        } finally {
            const msg = document.getElementById('loading-message');
            if(msg) msg.style.display = 'none';
        }
    }

    function displayContent(filterSource) {
        const heroTitle = document.getElementById('hero-title');
        const sectionHeader = document.querySelector('#all-content-container h2');
        let displayData = globalAllData;

        if (filterSource === 'Games') {
            heroTitle.textContent = "Game Zone üéÆ";
            sectionHeader.textContent = "üéÆ Games by Grade Level";
            displayData = globalAllData.filter(item => item.source === 'Games');
        } else if (filterSource === 'Interactive_Activities') {
            heroTitle.textContent = "Interactive Activities üß†";
            sectionHeader.textContent = "üß© Interactive Activities by Grade Level";
            displayData = globalAllData.filter(item => item.source === 'Interactive_Activities');
        } else { 
            heroTitle.textContent = "Welcome to Your Learning Playground!";
            sectionHeader.textContent = "üî• All Content by Grade Level";
        }
        
        allContentContainer.innerHTML = '';
        allContentContainer.appendChild(sectionHeader);

        if (displayData.length === 0 && filterSource !== 'All') {
            allContentContainer.innerHTML += `<p style="text-align:center; color:#999; padding:40px;">Bu kategoride hen√ºz i√ßerik bulunamadƒ±.</p>`;
            return;
        }

        // Gruplama
        const groupedData = displayData.reduce((acc, item) => {
            const gradeKey = item.grade; 
            acc[gradeKey] = acc[gradeKey] || [];
            acc[gradeKey].push(item);
            return acc;
        }, {});

        // Sƒ±nƒ±f Sƒ±rasƒ±na G√∂re Yazdƒ±r
        GRADE_ORDER.forEach(grade => {
            const gradeItems = groupedData[grade];
            if (!gradeItems || gradeItems.length === 0) return; 

            const gradeTitle = document.createElement('h2');
            gradeTitle.className = 'grade-section-title';
            gradeTitle.textContent = grade.replace(/_/g, ' ').toUpperCase(); 
            allContentContainer.appendChild(gradeTitle);

            const gamesGrid = document.createElement('div');
            gamesGrid.className = 'games-grid';

            // ƒ∞sim Sƒ±ralamasƒ±
            gradeItems.sort((a, b) => a.name.localeCompare(b.name));

            gradeItems.forEach(item => {
                let fileName = item.name;
                let gameUrl = item.path; 
                let sourceFolder = item.source;

                let title = fileName.replace('.html', '').replace(/[-_]/g, ' ').trim();
                let desc = "";
                let level = "";
                let badgeStyle = ""; 
                let cardClass = ""; 
                let icon = "";

                if (sourceFolder === "Games") {
                    level = "Games"; 
                    desc = "Interactive game.";
                    cardClass = "card-game";
                    badgeStyle = "background: var(--accent-color);";
                    icon = "üéÆ";
                } else if (sourceFolder === "Interactive_Activities") {
                    level = "Interactive Activity"; 
                    desc = "Reading & Vocab practice.";
                    cardClass = "card-activity"; 
                    badgeStyle = "background: #3498db;";
                    icon = "üß©";
                }

                if (!customGameDetails[fileName] && !customGameDetails[title]) {
                    title = title.toUpperCase();
                }

                const lookupKey = fileName; 
                if (customGameDetails[lookupKey]) {
                    const details = customGameDetails[lookupKey];
                    title = details.title;
                    desc = details.desc;
                    level = details.level || level; 
                    if (details.badgeColor) badgeStyle = `background: ${details.badgeColor};`;
                }

                const cardHTML = `
                <div class="game-card ${cardClass}">
                    <div>
                        <span class="level-badge" style="${badgeStyle}">${level}</span>
                        <h3>${icon} ${title}</h3>
                        <p>${desc}</p>
                    </div>
                    <a href="${gameUrl}" class="play-btn">Play Now ‚û°Ô∏è</a>
                </div>
                `;
                gamesGrid.innerHTML += cardHTML;
            });
            allContentContainer.appendChild(gamesGrid);
        });
    }

    document.addEventListener('DOMContentLoaded', loadAllContent);
</script>

</body>
</html>
