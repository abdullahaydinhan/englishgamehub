<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>English Teacher's Game Hub</title>
  
  <link rel="stylesheet" href="assets/style.css"> 
  <script defer src="assets/script.js"></script>

  <style>
    /* Temel Stil AyarlarÄ± */
    :root {
        --bg-color: #f5f5f5; 
        --primary-color: #16213e; 
        --accent-color: #e94560; 
        --accent-hover-color: #533483;
        --text-color: #333; 
        --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    body {
        font-family: var(--font-family); background-color: var(--bg-color);
        color: var(--text-color); line-height: 1.6; margin: 0; min-height: 100vh;
        display: flex; flex-direction: column;
    }
    header {
        background-color: var(--primary-color); color: white; padding: 20px 40px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1); display: flex;
        justify-content: space-between; align-items: center;
    }
    header h1 { margin: 0; color: var(--accent-color); }
    nav a {
        color: white; text-decoration: none; padding: 10px 15px; margin-left: 10px;
        transition: background-color 0.3s; border-radius: 5px;
    }
    nav a.active, nav a:hover { background-color: var(--accent-hover-color); }
    
    /* Hero Section */
    .hero { background-color: #e0f7fa; color: #16213e; padding: 80px 40px;
        text-align: center; margin-bottom: 20px;
    }
    .hero h2 { font-size: 2.5rem; margin-bottom: 15px; }
    
    /* SÄ±nÄ±f BaÅŸlÄ±klarÄ± Stili */
    .grade-section-title {
        text-align: left;
        color: var(--primary-color);
        margin: 40px 0 20px 0;
        padding: 10px 20px;
        border-bottom: 3px solid var(--accent-color);
        max-width: 1200px;
        margin-left: auto;
        margin-right: auto;
        font-size: 1.8rem;
    }

    /* OyunlarÄ±n listelendiÄŸi Ä±zgara yapÄ±sÄ± */
    .games-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 25px;
        padding: 20px;
        max-width: 1200px;
        margin: 0 auto;
    }

    /* Oyun KartÄ± Temel TasarÄ±mÄ± */
    .game-card {
        background: #ffffff; border-radius: 15px; padding: 25px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1); text-align: center;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: 1px solid #eee; display: flex; flex-direction: column;
        justify-content: space-between;
    }

    .game-card:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0,0,0,0.15); }

    /* **FARKLI KLASÃ–R TÄ°PLERÄ° Ä°Ã‡Ä°N FARKLI STÄ°L UYGULAMA** */
    .card-activity {
        /* Interactive Activities KlasÃ¶rÃ¼nden gelenler (Mavi Tema) */
        border: 3px solid #3498db; 
        box-shadow: 0 4px 10px rgba(52, 152, 219, 0.3);
    }
    .card-game {
        /* Games KlasÃ¶rÃ¼nden gelenler (KÄ±rmÄ±zÄ± Tema) */
        border: 3px solid var(--accent-color); 
        box-shadow: 0 4px 10px rgba(233, 69, 96, 0.3);
        background-color: #fff8f8; 
    }
    /* -------------------------------------------------- */

    .game-card h3 { color: var(--primary-color); margin-bottom: 10px; font-size: 1.4rem; }
    .game-card p { color: #666; font-size: 0.9rem; margin-bottom: 20px; }
    .play-btn {
        display: inline-block; background-color: var(--accent-color);
        color: white; padding: 10px 20px; border-radius: 25px;
        text-decoration: none; font-weight: bold; margin-top: auto; 
        transition: background 0.3s;
    }
    .play-btn:hover { background-color: var(--accent-hover-color); }
    .level-badge {
        color: white; padding: 4px 8px; border-radius: 4px;
        font-size: 0.8rem; margin-bottom: 10px; display: inline-block;
        font-weight: bold;
    }

    /* Footer */
    footer {
        background-color: var(--primary-color); color: white;
        text-align: center; padding: 15px; margin-top: auto; 
    }
  </style>
</head>
<body>
  <header>
    <h1>ğŸ“ English Teacher's Game Hub</h1>
    <nav id="navbar">
      <a href="index.html" class="active">Home</a>
      <a href="#all-content-container">Content</a>
      <a href="Interactive%20Activities/index.html">Interactive Activities</a> 
      <a href="about.html">About</a>
      <a href="contact.html">Contact</a>
    </nav>
  </header>

  <main>
    <section class="hero">
      <h2>Welcome to Your Learning Playground!</h2>
      <p>Fun and interactive English games and activities, organized by grade level! ğŸ§ </p>
      <a href="#all-content-container" class="btn">ğŸ® View Content by Grade</a>
    </section>

    <section id="all-content-container">
        <h2 style="text-align: center; color: var(--primary-color); padding-top: 20px;">ğŸ”¥ Content by Grade Level</h2>
        
        <p style="text-align:center; color:#999; padding:20px;">Ä°Ã§erikler yÃ¼kleniyor... LÃ¼tfen bekleyin.</p>
    </section>

    <section class="info" style="max-width: 1200px; margin: 40px auto; padding: 0 20px;">
      <h3 style="color: var(--accent-color);">ğŸ¯ Purpose</h3>
      <p>This site is designed for English language learners to enjoy vocabulary, grammar, and speaking practice through interactive games and quizzes.</p>
    </section>
  </main>

  <footer>
    <p>Â© 2025 English Teacherâ€™s Game Hub | Designed with â¤ï¸ for students</p>
  </footer>

<script>
  // --- AYARLAR ---
  const username = "hunter5234";
  const repo = "english-game-hub";
  
  // Ä°Ã‡ERÄ°K TÄ°PLERÄ° VE SINIF SEVÄ°YELERÄ°
  const SOURCE_FOLDERS = ["games", "Interactive%20Activities"];
  // VAR OLAN SINIF DÃœZEYLERÄ°NÄ°ZÄ° TAM OLARAK BURAYA GÄ°RÄ°N:
  const GRADE_LEVELS = ["9TH_Grade", "10TH_Grade", "11TH_Grade", "12TH_Grade"]; 
  
  const allContentContainer = document.getElementById('all-content-container');

  // --- Ã–ZEL OYUN BÄ°LGÄ°LERÄ° (AÃ‡IKLAMA VE BAÅLIKLARI Ã–ZELLEÅTÄ°RMEK Ä°Ã‡Ä°N) ---
  const customGameDetails = {
      // Dosya veya klasÃ¶r adÄ±nÄ± (uzantÄ±sÄ±z/uzantÄ±lÄ±) buraya girin. KlasÃ¶r hiyerarÅŸisi Ã¶nemli deÄŸil, sadece dosya adÄ± Ã¶nemli.
      "azerbaijan.html": { title: "Land of Fire (Azerbaijan)", level: "Level: A2", desc: "Geography, culture, and history.", badgeColor: "#f39c12" },
      "chile.html": { title: "Somewhere Far Away (Chile)", level: "Level: A2", desc: "Reading and comprehension skills.", badgeColor: "#f39c12" },
      "digital.html": { title: "Safer Digital World", level: "Level: A2", desc: "Cybersecurity vocabulary practice.", badgeColor: "#e94560" },
      "Milyoner9_1": { title: "Who Wants to Be a Millionaire?", level: "Level: B1", desc: "Test your general knowledge.", badgeColor: "#27ae60" },
      "deneme_2": { title: "Simple Vocabulary Quiz", level: "New", desc: "A quick test of basic English vocabulary.", badgeColor: "#3498db" }
  };

  /**
   * Belirtilen GitHub klasÃ¶rÃ¼nden iÃ§erikleri Ã§eker ve kaynak/seviye bilgisini ekler.
   */
  async function fetchFolderContent(sourceFolder, gradeFolder) {
    const fullPath = `${sourceFolder}/${gradeFolder}`;
    const apiUrl = `https://api.github.com/repos/${username}/${repo}/contents/${fullPath}`;
    
    const response = await fetch(apiUrl);
    // 404 (bulunamadÄ±) veya boÅŸ klasÃ¶r ise boÅŸ dizi dÃ¶ndÃ¼r
    if (!response.ok || response.status === 404) return []; 
    if (response.status === 403) throw new Error('GitHub API Limitine ulaÅŸÄ±ldÄ±.');
    
    const data = await response.json();
    
    return data.map(item => ({
        ...item,
        sourceFolder: sourceFolder,
        gradeFolder: gradeFolder
    }));
  }

  async function fetchAllContent() {
    try {
      // 1. ADIM: Ä°KÄ° ANA KLASÃ–R VE TÃœM SINIFLARDAN VERÄ°LERÄ° Ã‡EK
      const fetchPromises = [];
      SOURCE_FOLDERS.forEach(source => {
        GRADE_LEVELS.forEach(grade => {
          fetchPromises.push(fetchFolderContent(source, grade));
        });
      });

      // TÃ¼m verileri aynÄ± anda Ã§ek
      const results = await Promise.all(fetchPromises);
      let allData = results.flat(); 
      
      // YÃ¼kleniyor yazÄ±sÄ±nÄ± temizle
      allContentContainer.innerHTML = ''; 
      
      if (allData.length === 0) {
          allContentContainer.innerHTML += '<p style="text-align:center; color:#999; padding:20px;">HenÃ¼z listelenecek iÃ§erik bulunamadÄ±. LÃ¼tfen GitHub klasÃ¶r yapÄ±sÄ±nÄ± kontrol edin.</p>';
          return;
      }
      
      // 2. ADIM: GRUPLA VE SIRALA
      // Dosya/KlasÃ¶r adÄ±na gÃ¶re ters alfabetik sÄ±ralama (En yeni/son eklenen Ã¼stte)
      allData.sort((a, b) => b.name.localeCompare(a.name)); 
      
      const groupedData = allData.reduce((acc, item) => {
        acc[item.gradeFolder] = acc[item.gradeFolder] || [];
        acc[item.gradeFolder].push(item);
        return acc;
      }, {});

      // 3. ADIM: SAYFAYA Ä°Ã‡ERÄ°KLERÄ° YAZDIR
      GRADE_LEVELS.forEach(grade => {
        const gradeItems = groupedData[grade];
        if (!gradeItems || gradeItems.length === 0) return;

        // SÄ±nÄ±f BaÅŸlÄ±ÄŸÄ±nÄ± OluÅŸtur
        const gradeTitle = document.createElement('h2');
        gradeTitle.className = 'grade-section-title';
        gradeTitle.textContent = grade.replace('_', ' ').toUpperCase(); // Ã–rn: 9TH_GRADE -> 9TH GRADE
        allContentContainer.appendChild(gradeTitle);

        // Grid Konteynerini OluÅŸtur
        const gamesGrid = document.createElement('div');
        gamesGrid.className = 'games-grid';

        gradeItems.forEach(item => {
          let fileName = item.name;
          let gameUrl = "";
          let sourceFolder = item.sourceFolder;
          
          // URL belirleme (Games klasÃ¶rÃ¼ altÄ±ndaki klasÃ¶rler index.html'e gider)
          if (sourceFolder === "games" && item.type === 'dir') {
              gameUrl = `https://${username}.github.io/${repo}/${sourceFolder}/${item.gradeFolder}/${fileName}/index.html`;
          } 
          // Interactive Activities veya games klasÃ¶rÃ¼ altÄ±ndaki tek HTML dosyalarÄ± doÄŸrudan dosyaya gider
          else if ((sourceFolder === "Interactive%20Activities" || (sourceFolder === "games" && item.type === 'file')) && fileName.endsWith('.html')) {
              gameUrl = `https://${username}.github.io/${repo}/${sourceFolder}/${item.gradeFolder}/${fileName}`;
          } else {
              return; // Oyun veya aktivite olmayan diÄŸer dosyalarÄ±/klasÃ¶rleri atla
          }

          // VarsayÄ±lan DeÄŸerler ve CSS SÄ±nÄ±fÄ± (KLASÃ–RE GÃ–RE ATANIR)
          let title = fileName.replace('.html', '').replace(/[-_]/g, ' ').trim();
          let desc = "";
          let level = "";
          let badgeStyle = "background: #3498db;"; 
          let cardClass = ""; 

          if (sourceFolder === "games") {
              level = "Game";
              desc = "An interactive game from the sub-directory.";
              cardClass = "card-game";
          } else if (sourceFolder === "Interactive%20Activities") {
              level = "Interactive Activity"; 
              desc = "A reading or vocabulary practice session.";
              cardClass = "card-activity"; 
          }

          title = title.toUpperCase();
          
          // Ã–zel Bilgi KontrolÃ¼ (Override)
          if (customGameDetails[fileName]) {
              const details = customGameDetails[fileName];
              title = details.title;
              desc = details.desc;
              level = details.level;
              if (details.badgeColor) {
                  badgeStyle = `background: ${details.badgeColor};`;
              }
          }

          // HTML KartÄ±nÄ± OluÅŸtur
          const cardHTML = `
          <div class="game-card ${cardClass}">
              <span class="level-badge" style="${badgeStyle}">${level}</span>
              <h3>${title}</h3>
              <p>${desc}</p>
              <a href="${gameUrl}" class="play-btn">Play Now â¡ï¸</a>
          </div>
          `;
          
          gamesGrid.innerHTML += cardHTML;
        });

        allContentContainer.appendChild(gamesGrid);
      });

    } catch (error) {
      console.error('Ä°Ã§erikler yÃ¼klenirken hata oluÅŸtu:', error);
      allContentContainer.innerHTML = `<p style="text-align:center; color:red; padding:20px;">Ä°Ã§erikler yÃ¼klenemedi: ${error.message || 'GitHub API Limit HatasÄ±'}.</p>`;
    }
  }

  document.addEventListener('DOMContentLoaded', fetchAllContent);
</script>

</body>
</html>
