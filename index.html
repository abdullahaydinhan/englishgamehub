<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Game Hub</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { background-color: #f8f9fa; font-family: 'Segoe UI', sans-serif; padding-top: 70px; }
        
        /* NAVBAR */
        .navbar { box-shadow: 0 4px 12px rgba(0,0,0,0.1); padding: 10px 0; z-index: 1030; }
        .navbar-brand { font-weight: 800; font-size: 1.5rem; letter-spacing: -0.5px; }
        .nav-link { font-weight: 600; margin: 0 5px; cursor: pointer; }
        .nav-link.active { color: #0d6efd !important; }

        /* SOL YAN MENÃœ (SIDEBAR) - GÃœNCELLENDÄ° */
        .left-sidebar {
            position: fixed;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1040;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .grade-menu-item {
            position: relative;
            background-color: #343a40; /* Koyu renk */
            color: white;
            width: 50px; /* KapalÄ±yken sadece ikon geniÅŸliÄŸi */
            height: 50px;
            border-radius: 0 12px 12px 0; /* SaÄŸ kÃ¶ÅŸeleri yuvarla */
            display: flex;
            align-items: center;
            justify-content: center; /* Ä°konu ortala */
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* HavalÄ± animasyon */
            box-shadow: 2px 2px 10px rgba(0,0,0,0.2);
            font-weight: bold;
            overflow: hidden;
            white-space: nowrap;
        }

        .grade-menu-item span {
            display: none; /* YazÄ± baÅŸta gizli */
            margin-left: 10px;
        }

        .grade-menu-item:hover {
            width: 160px; /* Ãœzerine gelince uza */
            background-color: #0d6efd;
            justify-content: flex-start; /* YazÄ±yÄ± sola hizala */
            padding-left: 15px;
        }

        .grade-menu-item:hover span {
            display: inline-block; /* YazÄ±yÄ± gÃ¶ster */
        }

        /* SÄ±nÄ±f MenÃ¼sÃ¼ Ä°konlarÄ± (Yuvarlaklar) */
        .grade-icon {
            font-size: 1.2rem;
            font-weight: 800;
            min-width: 25px;
            text-align: center;
        }

        /* AÃ§Ä±lÄ±r Alt MenÃ¼ (Submenu) */
        .grade-submenu {
            display: none;
            position: absolute;
            left: 100%; /* Butonun saÄŸÄ±nda aÃ§Ä±l */
            top: 0;
            background: white;
            border-radius: 10px;
            box-shadow: 5px 5px 20px rgba(0,0,0,0.15);
            width: 200px;
            padding: 10px;
            text-align: left;
            margin-left: 10px; /* Biraz boÅŸluk bÄ±rak */
        }

        .grade-menu-item:hover .grade-submenu {
            display: block;
            animation: fadeInRight 0.3s ease;
        }

        /* Ã–ZELLEÅžTÄ°RÄ°LMÄ°Åž SINIF ETÄ°KETLERÄ° (BADGES) - YENÄ° */
        .grade-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 5px 12px;
            border-radius: 8px;
            color: white;
            font-weight: 700;
            font-size: 0.75rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            letter-spacing: 0.5px;
            z-index: 2;
        }
        
        /* Her SÄ±nÄ±f Ä°Ã§in Ã–zel Renkler */
        .badge-9 { background: linear-gradient(45deg, #00c6ff, #0072ff); } /* Mavi */
        .badge-10 { background: linear-gradient(45deg, #11998e, #38ef7d); } /* YeÅŸil */
        .badge-11 { background: linear-gradient(45deg, #fce38a, #f38181); color: #333 !important; } /* Turuncu/SarÄ± */
        .badge-12 { background: linear-gradient(45deg, #ff416c, #ff4b2b); } /* KÄ±rmÄ±zÄ± */

        @keyframes fadeInRight { from { opacity: 0; transform: translateX(-10px); } to { opacity: 1; transform: translateX(0); } }

        /* KARTLAR */
        .game-card { border: none; border-radius: 16px; transition: all 0.3s ease; background: white; height: 100%; border: 1px solid #eee; cursor: pointer; }
        .game-card:hover { transform: translateY(-8px); box-shadow: 0 15px 30px rgba(0,0,0,0.1); border-color: #0d6efd; }
        .icon-box { width: 50px; height: 50px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; margin-bottom: 1rem; color: white; }
        
        /* Ä°KON RENKLERÄ° */
        .icon-Games { background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); color: #d63384; }
        .icon-Interactive_Activities { background-color: #0d6efd; }
        .icon-Videos { background-color: #dc3545; }
        .icon-Vocabulary { background-color: #198754; }
        .icon-Grammar { background-color: #fd7e14; }
        .icon-Slides { background-color: #6f42c1; }
        .icon-Documents { background-color: #0dcaf0; }
        
        /* DÄ°ÄžER CSS */
        .view-section { display: none; animation: fadeIn 0.5s ease; }
        .view-section.active-view { display: block; }
        .hero-section { background: linear-gradient(120deg, #2980b9, #8e44ad); color: white; padding: 60px 0; border-radius: 0 0 50px 50px; margin-bottom: 40px; }
        .nav-pills .nav-link { border-radius: 50px; padding: 10px 30px; margin: 0 5px; background: white; border: 2px solid #e9ecef; color: #6c757d; font-weight: 700; transition: all 0.3s; }
        .nav-pills .nav-link.active { background-color: #0d6efd !important; border-color: #0d6efd !important; color: #ffffff !important; transform: scale(1.05); box-shadow: 0 4px 15px rgba(13,110,253,0.3); }
        .unit-badge { font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.5px; background: #eef2ff; color: #4f46e5; padding: 5px 10px; border-radius: 6px; font-weight: 700; display: inline-block; margin-bottom: 8px; }
        .submenu-link { display: block; padding: 8px 10px; color: #333; text-decoration: none; border-radius: 5px; font-size: 0.9rem; transition: 0.2s; }
        .submenu-link:hover { background-color: #f0f7ff; color: #0d6efd; padding-left: 15px; }
    </style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top">
    <div class="container">
        <a class="navbar-brand text-primary" href="#" onclick="switchView('home')"><i class="fa-solid fa-graduation-cap"></i> EGH</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"><span class="navbar-toggler-icon"></span></button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto align-items-center">
                <li class="nav-item"><a class="nav-link active" id="nav-home" onclick="switchView('home')">Home</a></li>
                <li class="nav-item"><a class="nav-link" id="nav-Games" onclick="switchView('Games')">Games</a></li>
                <li class="nav-item"><a class="nav-link" id="nav-Interactive_Activities" onclick="switchView('Interactive_Activities')">Interactive Activities</a></li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Study Materials</a>
                    <ul class="dropdown-menu border-0 shadow">
                        <li><a class="dropdown-item" onclick="switchView('Vocabulary')"><i class="fa-solid fa-book-open text-success me-2"></i> Vocabulary</a></li>
                        <li><a class="dropdown-item" onclick="switchView('Grammar')"><i class="fa-solid fa-pen-nib text-warning me-2"></i> Grammar</a></li>
                        <li><a class="dropdown-item" onclick="switchView('Videos')"><i class="fa-solid fa-youtube text-danger me-2"></i> Videos</a></li>
                        <li><a class="dropdown-item" onclick="switchView('Slides')"><i class="fa-solid fa-person-chalkboard text-primary me-2"></i> Slides</a></li>
                        <li><a class="dropdown-item" onclick="switchView('Documents')"><i class="fa-solid fa-file-pdf text-info me-2"></i> Documents</a></li>
                    </ul>
                </li>
                <li class="nav-item"><a class="nav-link" id="nav-about" onclick="switchView('about')">About</a></li>
                <li class="nav-item ms-2"><button class="btn btn-primary rounded-pill px-4 fw-bold btn-sm shadow-sm" data-bs-toggle="modal" data-bs-target="#contactModal">Contact</button></li>
            </ul>
        </div>
    </div>
</nav>

<div class="left-sidebar">
    <div class="grade-menu-item" title="9th Grade Menu">
        <div class="grade-icon">9</div> <span>9TH GRADE</span>
        <div class="grade-submenu">
            <div class="text-muted small mb-2 border-bottom pb-1 fw-bold">9th Grade Content</div>
            <a href="#" class="submenu-link" onclick="quickNav('9TH_GRADE', 'Games')"><i class="fa-solid fa-gamepad me-2 text-danger"></i> Games</a>
            <a href="#" class="submenu-link" onclick="quickNav('9TH_GRADE', 'Interactive_Activities')"><i class="fa-solid fa-laptop-code me-2 text-primary"></i> Activities</a>
            <a href="#" class="submenu-link" onclick="quickNav('9TH_GRADE', 'Vocabulary')"><i class="fa-solid fa-book-open me-2 text-success"></i> Vocabulary</a>
            <a href="#" class="submenu-link" onclick="quickNav('9TH_GRADE', 'Videos')"><i class="fa-solid fa-youtube me-2 text-danger"></i> Videos</a>
        </div>
    </div>
    <div class="grade-menu-item" title="10th Grade Menu">
        <div class="grade-icon">10</div> <span>10TH GRADE</span>
        <div class="grade-submenu">
            <div class="text-muted small mb-2 border-bottom pb-1 fw-bold">10th Grade Content</div>
            <a href="#" class="submenu-link" onclick="quickNav('10TH_GRADE', 'Games')"><i class="fa-solid fa-gamepad me-2 text-danger"></i> Games</a>
            <a href="#" class="submenu-link" onclick="quickNav('10TH_GRADE', 'Interactive_Activities')"><i class="fa-solid fa-laptop-code me-2 text-primary"></i> Activities</a>
            <a href="#" class="submenu-link" onclick="quickNav('10TH_GRADE', 'Vocabulary')"><i class="fa-solid fa-book-open me-2 text-success"></i> Vocabulary</a>
            <a href="#" class="submenu-link" onclick="quickNav('10TH_GRADE', 'Videos')"><i class="fa-solid fa-youtube me-2 text-danger"></i> Videos</a>
        </div>
    </div>
    <div class="grade-menu-item" title="11th Grade Menu">
        <div class="grade-icon">11</div> <span>11TH GRADE</span>
        <div class="grade-submenu">
            <div class="text-muted small mb-2 border-bottom pb-1 fw-bold">11th Grade Content</div>
            <a href="#" class="submenu-link" onclick="quickNav('11TH_GRADE', 'Games')"><i class="fa-solid fa-gamepad me-2 text-danger"></i> Games</a>
            <a href="#" class="submenu-link" onclick="quickNav('11TH_GRADE', 'Interactive_Activities')"><i class="fa-solid fa-laptop-code me-2 text-primary"></i> Activities</a>
            <a href="#" class="submenu-link" onclick="quickNav('11TH_GRADE', 'Vocabulary')"><i class="fa-solid fa-book-open me-2 text-success"></i> Vocabulary</a>
        </div>
    </div>
    <div class="grade-menu-item" title="12th Grade Menu">
        <div class="grade-icon">12</div> <span>12TH GRADE</span>
        <div class="grade-submenu">
            <div class="text-muted small mb-2 border-bottom pb-1 fw-bold">12th Grade Content</div>
            <a href="#" class="submenu-link" onclick="quickNav('12TH_GRADE', 'Games')"><i class="fa-solid fa-gamepad me-2 text-danger"></i> Games</a>
            <a href="#" class="submenu-link" onclick="quickNav('12TH_GRADE', 'Interactive_Activities')"><i class="fa-solid fa-laptop-code me-2 text-primary"></i> Activities</a>
            <a href="#" class="submenu-link" onclick="quickNav('12TH_GRADE', 'Vocabulary')"><i class="fa-solid fa-book-open me-2 text-success"></i> Vocabulary</a>
        </div>
    </div>
</div>

<div id="view-home" class="view-section active-view">
    <div class="hero-section text-center">
        <div class="container">
            <h1 class="display-3 fw-bold mb-3">English Game Hub</h1>
            <p class="lead mb-4 opacity-75">Interactive Games, Quizzes, and Activities.</p>
            <div class="d-flex justify-content-center gap-3">
                <button onclick="switchView('Games')" class="btn btn-light btn-lg rounded-pill fw-bold text-primary px-5 shadow">Play Games</button>
                <button onclick="switchView('Interactive_Activities')" class="btn btn-outline-light btn-lg rounded-pill fw-bold px-5 border-2">Activities</button>
            </div>
        </div>
    </div>
    <div class="container py-4">
        <div class="d-flex align-items-center mb-4">
            <h3 class="fw-bold m-0"><i class="fa-solid fa-rocket text-primary me-2"></i> New Arrivals</h3>
            <span class="badge bg-danger ms-3">Fresh Content</span>
        </div>
        <div id="home-showcase" class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4">
            <div class="text-center w-100 py-5"><div class="spinner-border text-primary"></div></div>
        </div>
    </div>
</div>

<div id="view-about" class="view-section container mt-5">
    <div class="row justify-content-center">
        <div class="col-lg-8 text-center">
            <div class="bg-white p-5 rounded-4 shadow-sm">
                <img src="https://cdn-icons-png.flaticon.com/512/3429/3429149.png" alt="Teacher" width="100" class="mb-3">
                <h2 class="fw-bold mb-4">About the Platform</h2>
                <p class="text-muted fs-5">Welcome to the <strong>English Game Hub!</strong><br><br>I am an English Teacher dedicated to making language learning accessible and enjoyable.</p>
                <div class="mt-4 p-3 bg-light rounded-3 d-inline-block"><h5 class="fw-bold text-primary m-0">Have fun and keep learning! ðŸš€</h5></div>
            </div>
        </div>
    </div>
</div>

<div id="view-content" class="view-section container mt-4">
    <div class="text-center mb-5"><h2 id="page-title" class="fw-bold display-6">Library</h2><p id="page-subtitle" class="text-muted">Select your grade to see the materials.</p></div>
    <ul class="nav nav-pills justify-content-center mb-5" id="gradeTabs">
        <li class="nav-item"><button class="nav-link active" id="btn-9TH_GRADE" onclick="changeGrade('9TH_GRADE', this)">9. SÄ±nÄ±f</button></li>
        <li class="nav-item"><button class="nav-link" id="btn-10TH_GRADE" onclick="changeGrade('10TH_GRADE', this)">10. SÄ±nÄ±f</button></li>
        <li class="nav-item"><button class="nav-link" id="btn-11TH_GRADE" onclick="changeGrade('11TH_GRADE', this)">11. SÄ±nÄ±f</button></li>
        <li class="nav-item"><button class="nav-link" id="btn-12TH_GRADE" onclick="changeGrade('12TH_GRADE', this)">12. SÄ±nÄ±f</button></li>
    </ul>
    <div id="content-display"></div>
</div>

<footer class="text-center py-4 mt-5 border-top bg-white"><small class="text-muted">&copy; 2025 English Game Hub - Designed for Students</small></footer>

<div class="modal fade" id="contactModal" tabindex="-1"><div class="modal-dialog modal-dialog-centered"><div class="modal-content border-0 shadow"><div class="modal-header bg-primary text-white"><h5 class="modal-title"><i class="fa-solid fa-envelope"></i> Contact Teacher</h5><button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button></div><div class="modal-body p-4 text-center"><i class="fa-solid fa-paper-plane fa-3x text-primary mb-3"></i><p class="fs-5">Hello! Do you have any questions?</p><p class="text-muted">Feel free to send me an email.</p><div class="alert alert-light border mt-3"><strong><i class="fa-solid fa-at"></i> Email:</strong><br><a href="mailto:abdullahaydÄ±nhan@gmail.com" class="text-decoration-none fw-bold text-break">abdullahaydÄ±nhan@gmail.com</a></div></div><div class="modal-footer border-0 justify-content-center pb-4"><button type="button" class="btn btn-secondary px-4 rounded-pill" data-bs-dismiss="modal">Close</button></div></div></div></div>

<script>
    let allData = [];
    let currentMode = 'home'; 
    let currentGrade = '9TH_GRADE';
    
    const CONFIG = {
        'Games': { title: 'ðŸŽ® Interactive Games', subtitle: 'Play and learn with our game collection.', icon: 'fa-gamepad' },
        'Interactive_Activities': { title: 'ðŸ§© Interactive Activities', subtitle: 'Digital exercises and quizzes.', icon: 'fa-laptop-code' },
        'Videos': { title: 'ðŸŽ¬ Educational Videos', subtitle: 'Watch and learn.', icon: 'fa-youtube' },
        'Vocabulary': { title: 'ðŸ“– Vocabulary & Resources', subtitle: 'PDFs, Word documents, and Study Lists.', icon: 'fa-book-open' },
        'Grammar': { title: 'âœï¸ Grammar Exercises', subtitle: 'Master the rules of English.', icon: 'fa-pen-nib' },
        'Slides': { title: 'ðŸ“Š Presentations', subtitle: 'Lesson slides and summaries.', icon: 'fa-person-chalkboard' },
        'Documents': { title: 'ðŸ“„ Documents', subtitle: 'Worksheets and PDFs.', icon: 'fa-file-pdf' }
    };

    fetch('games_data.json').then(r => r.json()).then(d => { 
        allData = d.reverse(); 
        renderHomeLatest(); 
    }).catch(e => console.error(e));

    function quickNav(grade, mode) {
        switchView(mode);
        currentGrade = grade;
        document.querySelectorAll('#gradeTabs .nav-link').forEach(b => b.classList.remove('active'));
        if(document.getElementById('btn-' + grade)) {
            document.getElementById('btn-' + grade).classList.add('active');
        }
        renderContent();
        window.scrollTo(0,0);
    }

    function switchView(viewName) {
        document.querySelectorAll('.navbar .nav-link').forEach(el => el.classList.remove('active'));
        if(document.getElementById('nav-' + viewName)) document.getElementById('nav-' + viewName).classList.add('active');
        
        document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active-view'));

        if (viewName === 'home') document.getElementById('view-home').classList.add('active-view');
        else if (viewName === 'about') document.getElementById('view-about').classList.add('active-view');
        else {
            document.getElementById('view-content').classList.add('active-view');
            currentMode = viewName; 
            const conf = CONFIG[viewName] || { title: viewName, subtitle: 'Resource Library' };
            document.getElementById('page-title').innerHTML = conf.title;
            document.getElementById('page-subtitle').innerHTML = conf.subtitle;
            renderContent();
        }
        const navBar = document.getElementById('navbarNav');
        if (navBar.classList.contains('show')) new bootstrap.Collapse(navBar).hide();
        window.scrollTo(0,0);
    }

    function changeGrade(grade, btn) {
        currentGrade = grade;
        document.querySelectorAll('#gradeTabs .nav-link').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        renderContent();
    }

    function renderHomeLatest() {
        const container = document.getElementById('home-showcase');
        const allGames = allData.filter(i => i.source === 'Games');
        const allOthers = allData.filter(i => i.source !== 'Games');
        let showcaseItems = [];
        
        showcaseItems.push(...allGames.slice(0, 4));
        let needed = 10 - showcaseItems.length;
        if(needed > 0) showcaseItems.push(...allOthers.slice(0, needed));
        if(showcaseItems.length < 10) {
             let remainingGames = allGames.slice(4);
             let moreNeeded = 10 - showcaseItems.length;
             showcaseItems.push(...remainingGames.slice(0, moreNeeded));
        }

        let html = "";
        showcaseItems.forEach(item => { html += createCardHTML(item); });
        container.innerHTML = html;
    }

    function getFileIcon(filename) {
        if(filename.endsWith('.pdf')) return 'fa-file-pdf';
        if(filename.endsWith('.docx') || filename.endsWith('.doc')) return 'fa-file-word';
        if(filename.endsWith('.xlsx') || filename.endsWith('.xls')) return 'fa-file-excel';
        if(filename.endsWith('.html')) return 'fa-globe';
        return 'fa-file';
    }

    function createCardHTML(item) {
        const displayTitle = item.title || item.name.replace(/\.(html|pdf|docx|xlsx)$/i, '').replace(/_/g, ' ');
        const badge = item.unit ? `<span class="badge bg-light text-primary border mb-2">${item.unit}</span>` : '';
        
        // SÄ±nÄ±fa GÃ¶re Renkli Badge OluÅŸtur
        const gradeNum = item.grade.replace('TH_GRADE', ''); // '9', '10' vb.
        const gradeBadgeClass = `badge-${gradeNum}`;
        const gradeLabel = `<span class="grade-badge ${gradeBadgeClass}">${gradeNum}TH</span>`;
        
        let iconClass = 'fa-gamepad'; 
        let bgClass = 'icon-Games';
        if (CONFIG[item.source]) {
            iconClass = CONFIG[item.source].icon;
            bgClass = 'icon-' + item.source;
        }
        if (item.source === 'Vocabulary') iconClass = getFileIcon(item.name);

        return `
            <div class="col">
                <a href="${item.path}" class="text-decoration-none text-dark" target="_blank">
                    <div class="game-card h-100 position-relative">
                        ${gradeLabel}
                        <div class="card-body p-4">
                            <div class="d-flex justify-content-between">
                                <div class="icon-box ${bgClass}"><i class="fa-solid ${iconClass}"></i></div>
                            </div>
                            ${badge}
                            <h5 class="fw-bold mb-2 text-truncate">${displayTitle}</h5>
                            <p class="text-muted small mb-0 text-truncate">${item.description || 'Click to view.'}</p>
                        </div>
                    </div>
                </a>
            </div>`;
    }

    function renderContent() {
        const container = document.getElementById('content-display');
        const items = allData.filter(item => item.grade === currentGrade && item.source === currentMode && item.isVisible !== false);

        if (items.length === 0) {
            container.innerHTML = `<div class="text-center py-5 bg-white rounded-4 shadow-sm border border-light"><i class="fa-solid fa-folder-open fa-3x text-muted mb-3 opacity-25"></i><h5 class="text-muted fw-bold">No content available yet.</h5></div>`;
            return;
        }

        let html = `<div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">`;
        items.forEach(item => { html += createCardHTML(item); });
        html += `</div>`;
        container.innerHTML = html;
    }
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
