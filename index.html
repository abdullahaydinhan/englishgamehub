<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Teacher's Game Hub</title>
    
    <link rel="stylesheet" href="assets/style.css"> 
    <script defer src="assets/script.js"></script>

    <style>
        /* Temel Stil AyarlarÄ± */
        :root {
            --bg-color: #f5f5f5; --primary-color: #16213e; --accent-color: #e94560; 
            --accent-hover-color: #533483; --text-color: #333; 
            --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            font-family: var(--font-family); background-color: var(--bg-color);
            color: var(--text-color); line-height: 1.6; margin: 0; min-height: 100vh;
            display: flex; flex-direction: column;
        }
        header {
            background-color: var(--primary-color); color: white; padding: 20px 40px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1); display: flex;
            justify-content: space-between; align-items: center;
        }
        header h1 { margin: 0; color: var(--accent-color); }
        nav a {
            color: white; text-decoration: none; padding: 10px 15px; margin-left: 10px;
            transition: background-color 0.3s; border-radius: 5px;
        }
        /* Navigasyon Aktif Stili */
        nav a.active-link, nav a:hover { background-color: var(--accent-hover-color); }
        
        /* Hero Section */
        .hero { background-color: #e0f7fa; color: #16213e; padding: 80px 40px;
            text-align: center; margin-bottom: 20px;
        }
        .hero h2 { font-size: 2.5rem; margin-bottom: 15px; }
        
        /* SÄ±nÄ±f BaÅŸlÄ±klarÄ± Stili */
        .grade-section-title {
            text-align: left;
            color: var(--primary-color);
            margin: 40px 0 20px 0;
            padding: 10px 20px;
            border-bottom: 3px solid var(--accent-color);
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
            font-size: 1.8rem;
        }

        /* OyunlarÄ±n listelendiÄŸi Ä±zgara yapÄ±sÄ± */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Oyun KartÄ± Temel TasarÄ±mÄ± */
        .game-card {
            background: #ffffff; border-radius: 15px; padding: 25px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1); text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid #eee; display: flex; flex-direction: column;
            justify-content: space-between;
        }

        .game-card:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0,0,0,0.15); }

        /* Games KartÄ± */
        .card-game {
            border: 3px solid var(--accent-color); 
            box-shadow: 0 4px 10px rgba(233, 69, 96, 0.3);
            background-color: #fff8f8; 
        }
        /* Interactive Activities KartÄ± */
        .card-activity {
            border: 3px solid #3498db; 
            box-shadow: 0 4px 10px rgba(52, 152, 219, 0.3);
            background-color: #f8fbff; /* FarklÄ± hafif arka plan */
        }

        .game-card h3 { color: var(--primary-color); margin-bottom: 10px; font-size: 1.4rem; }
        .game-card p { color: #666; font-size: 0.9rem; margin-bottom: 20px; }
        .play-btn {
            display: inline-block; background-color: var(--accent-color);
            color: white; padding: 10px 20px; border-radius: 25px;
            text-decoration: none; font-weight: bold; margin-top: auto; 
            transition: background 0.3s;
        }
        .play-btn:hover { background-color: var(--accent-hover-color); }
        .level-badge {
            color: white; padding: 4px 8px; border-radius: 4px;
            font-size: 0.8rem; margin-bottom: 10px; display: inline-block;
            font-weight: bold;
        }

        /* Footer */
        footer {
            background-color: var(--primary-color); color: white;
            text-align: center; padding: 15px; margin-top: auto; 
        }
    </style>
</head>
<body>
    <header>
        <h1>ğŸ“ English Teacher's Game Hub</h1>
        <nav id="navbar">
            <a href="#" id="nav-home" class="active-link" data-filter="All">Home</a>
            <a href="#games" id="nav-games" data-filter="Games">Games</a>
            <a href="#activities" id="nav-activities" data-filter="Interactive_Activities">Interactive Activities</a> 
            <a href="about.html">About</a>
            <a href="contact.html">Contact</a>
        </nav>
    </header>

    <main>
        <section class="hero">
            <h2 id="content-hero-title">Welcome to Your Learning Playground!</h2>
            <p>Fun and interactive English games and activities, organized by grade level! ğŸ§ </p>
            <a href="#all-content-container" class="btn">ğŸ® View Content</a>
        </section>

        <section id="all-content-container">
            <h2 style="text-align: center; color: var(--primary-color); padding-top: 20px;">ğŸ”¥ All Content by Grade Level</h2>
            
            <p style="text-align:center; color:#999; padding:20px;" id="loading-message">Ä°Ã§erikler yÃ¼kleniyor... LÃ¼tfen bekleyin.</p>
        </section>

        <section class="info" style="max-width: 1200px; margin: 40px auto; padding: 0 20px;">
            <h3 style="color: var(--accent-color);">ğŸ¯ Purpose</h3>
            <p>This site is designed for English language learners to enjoy vocabulary, grammar, and speaking practice through interactive games and quizzes.</p>
        </section>
    </main>

    <footer>
        <p>Â© 2025 English Teacherâ€™s Game Hub | Designed with â¤ï¸ for students</p>
    </footer>

<script>
    // --- AYARLAR ---
    const username = "hunter5234"; // GitHub kullanÄ±cÄ± adÄ±nÄ±z
    const repo = "english-game-hub"; // GitHub deponuzun adÄ±
    
    // Ä°Ã‡ERÄ°K TÄ°PLERÄ° VE SINIF SEVÄ°YELERÄ°
    const SOURCE_FOLDERS = ["Games", "Interactive_Activities"]; 
    
    // SÄ±nÄ±f adlarÄ± Sizin son teyidinize gÃ¶re (TÃœMÃœ BÃœYÃœK HARF)
    const GRADE_LEVELS = ["9TH_GRADE", "10TH_GRADE", "11TH_GRADE", "12TH_GRADE"]; 
    
    const allContentContainer = document.getElementById('all-content-container');
    const navLinks = document.querySelectorAll('#navbar a[data-filter]');

    // TÃ¼m Ä°Ã§erikleri Tutacak Global DeÄŸiÅŸken
    let globalAllData = [];

    // --- Ã–ZEL OYUN BÄ°LGÄ°LERÄ° (Kart BaÅŸlÄ±klarÄ±nÄ± DÃ¼zenlemek Ä°Ã§in) ---
    // LÃ¼tfen buradaki anahtarlarÄ± GitHub'daki gerÃ§ek dosya/klasÃ¶r adlarÄ±yla eÅŸleÅŸtirin.
    const customGameDetails = {
        // Interactive Activities (TAM DOSYA ADI)
        "9.1.R. Land of Fire PAGE 30.html": { title: "Land of Fire Reading (Page 30)", level: "Azerbaijan Activity", desc: "Azerbaycan okuma anlama pratiÄŸi.", badgeColor: "#f39c12" },
        "9.1.R. Getting Ready for a Safer Digital World Page 34.html": { title: "Safer Digital World (Page 34)", level: "Cybersecurity Quiz", desc: "Siber gÃ¼venlik kelime ve okuma pratiÄŸi.", badgeColor: "#e94560" },
        "9.1.R. Somewhere Far Away PAGE 32.html": { title: "Somewhere Far Away Reading", level: "Chile Activity", desc: "Åili ile ilgili okuma ve anlama pratiÄŸi.", badgeColor: "#00b894" },
        
        // Games (KLASÃ–R ADI uzantÄ±sÄ±z)
        "Milyoner9_1": { title: "9. SÄ±nÄ±f Milyoner Oyunu", level: "Knowledge Quiz", desc: "Genel Ä°ngilizce bilgi yarÄ±ÅŸmasÄ±.", badgeColor: "#27ae60" },
        "Simple_Vocabulary_Quiz": { title: "Simple Vocab Quiz", level: "Quick Test", desc: "Temel kelime testi.", badgeColor: "#3498db" }
    };

    /**
     * GitHub API'sinden iÃ§erikleri Ã§eker.
     */
    async function fetchFolderContent(sourceFolder, gradeFolder) {
        const fullPath = `${sourceFolder}/${gradeFolder}`;
        const apiUrl = `https://api.github.com/repos/${username}/${repo}/contents/${fullPath}`;
        
        const response = await fetch(apiUrl);

        if (!response.ok || response.status === 404) return []; 
        if (response.status === 403) throw new Error('GitHub API Limitine ulaÅŸÄ±ldÄ±.');
        
        const data = await response.json();
        
        return data.map(item => ({
            ...item,
            sourceFolder: sourceFolder,
            gradeFolder: gradeFolder
        }));
    }

    /**
     * TÃ¼m iÃ§erikleri Ã§eker ve globalAllData'ya kaydeder.
     */
    async function loadAllContent() {
        document.getElementById('loading-message').style.display = 'block';
        try {
            const fetchPromises = [];
            SOURCE_FOLDERS.forEach(source => {
                GRADE_LEVELS.forEach(grade => {
                    fetchPromises.push(fetchFolderContent(source, grade));
                });
            });

            const results = await Promise.all(fetchPromises);
            globalAllData = results.flat(); 
            
            // BaÅŸlangÄ±Ã§ta 'All' (TÃ¼m iÃ§erikleri) gÃ¶ster
            displayContent('All'); 

        } catch (error) {
            console.error('Ä°Ã§erikler yÃ¼klenirken hata oluÅŸtu:', error);
            allContentContainer.innerHTML = `<p style="text-align:center; color:red; padding:20px;">Ä°Ã§erikler yÃ¼klenemedi: ${error.message || 'Bilinmeyen Hata'}. LÃ¼tfen tarayÄ±cÄ± Konsol sekmesini kontrol edin.</p>`;
        } finally {
            document.getElementById('loading-message').style.display = 'none';
        }
    }

    /**
     * Belirtilen kaynaÄŸa gÃ¶re iÃ§erikleri filtreler ve gÃ¶sterir.
     */
    function displayContent(filterSource) {
        const mainTitle = document.getElementById('content-hero-title');
        const contentHeader = document.querySelector('#all-content-container h2');
        let displayData = globalAllData;

        // BaÅŸlÄ±k gÃ¼ncellemeleri
        if (filterSource === 'Games') {
            mainTitle.textContent = "Welcome to Your Game Hub!";
            contentHeader.textContent = "ğŸ® Games by Grade Level";
            displayData = globalAllData.filter(item => item.sourceFolder === 'Games');
        } else if (filterSource === 'Interactive_Activities') {
            mainTitle.textContent = "Welcome to Interactive Activities!";
            contentHeader.textContent = "ğŸ§  Interactive Activities by Grade Level";
            displayData = globalAllData.filter(item => item.sourceFolder === 'Interactive_Activities');
        } else { // 'All' veya 'Home'
            mainTitle.textContent = "Welcome to Your Learning Playground!";
            contentHeader.textContent = "ğŸ”¥ All Content by Grade Level";
        }
        
        allContentContainer.innerHTML = '';
        allContentContainer.appendChild(contentHeader); // Ana baÅŸlÄ±ÄŸÄ± tekrar ekle

        if (displayData.length === 0 && filterSource !== 'All') {
            allContentContainer.innerHTML += `<p style="text-align:center; color:#999; padding:20px;">Bu kategoride henÃ¼z listelenecek iÃ§erik bulunamadÄ±.</p>`;
            return;
        }

        // Gruplama ve SÄ±ralama
        displayData.sort((a, b) => b.name.localeCompare(a.name)); 
        
        const groupedData = displayData.reduce((acc, item) => {
            acc[item.gradeFolder] = acc[item.gradeFolder] || [];
            acc[item.gradeFolder].push(item);
            return acc;
        }, {});

        // GÃ¶sterim
        GRADE_LEVELS.forEach(grade => {
            const gradeItems = groupedData[grade];
            
            // Ä°STEK 4: Veri yoksa sÄ±nÄ±f baÅŸlÄ±ÄŸÄ±nÄ± LÄ°STELEME
            if (!gradeItems || gradeItems.length === 0) return; 

            // SÄ±nÄ±f BaÅŸlÄ±ÄŸÄ±nÄ± OluÅŸtur
            const gradeTitle = document.createElement('h2');
            gradeTitle.className = 'grade-section-title';
            gradeTitle.textContent = grade.replace('_', ' ').toUpperCase(); 
            allContentContainer.appendChild(gradeTitle);

            // Grid Konteynerini OluÅŸtur
            const gamesGrid = document.createElement('div');
            gamesGrid.className = 'games-grid';

            gradeItems.forEach(item => {
                let fileName = item.name;
                let gameUrl = "";
                let sourceFolder = item.sourceFolder;
                
                // URL belirleme ve Filtreleme (Sadece dir/html)
                if (sourceFolder === "Games" && item.type === 'dir') {
                    gameUrl = `https://${username}.github.io/${repo}/${sourceFolder}/${item.gradeFolder}/${fileName}/index.html`;
                } 
                else if (sourceFolder === "Interactive_Activities" && item.type === 'file' && fileName.endsWith('.html')) {
                    gameUrl = `https://${username}.github.io/${repo}/${sourceFolder}/${item.gradeFolder}/${fileName}`;
                } else {
                    return; // Liste dÄ±ÅŸÄ± kalanlarÄ± atla
                }

                // VarsayÄ±lan DeÄŸerler ve Ä°STEK 2-3 (VarsayÄ±lan Rozet BaÅŸlÄ±klarÄ±)
                let title = fileName.replace('.html', '').replace(/[-_]/g, ' ').trim();
                let desc = "";
                let level = "";
                let badgeStyle = "background: #3498db;"; 
                let cardClass = ""; 

                if (sourceFolder === "Games") {
                    level = "Games"; // Ä°STEK 2: Games klasÃ¶rÃ¼ndeki varsayÄ±lan baÅŸlÄ±k
                    desc = "An interactive game from the sub-directory.";
                    cardClass = "card-game";
                } else if (sourceFolder === "Interactive_Activities") {
                    level = "Interactive Activities"; // Ä°STEK 3: Activities klasÃ¶rÃ¼ndeki varsayÄ±lan baÅŸlÄ±k
                    desc = "A reading or vocabulary practice session.";
                    cardClass = "card-activity"; 
                }

                // Otomatik BaÅŸlÄ±ÄŸÄ± (Default Title) GerekmedikÃ§e BÃœYÃœK HARF yapma
                if (!customGameDetails[fileName] && !customGameDetails[title]) {
                    title = title.toUpperCase();
                }

                // Ã–zel Bilgi KontrolÃ¼ (Override)
                const lookupKey = sourceFolder === "Games" ? fileName : fileName;
                
                if (customGameDetails[lookupKey]) {
                    const details = customGameDetails[lookupKey];
                    title = details.title;
                    desc = details.desc;
                    level = details.level; // Custom level kullanÄ±lÄ±r
                    if (details.badgeColor) {
                        badgeStyle = `background: ${details.badgeColor};`;
                    }
                }

                // HTML KartÄ±nÄ± OluÅŸtur
                const cardHTML = `
                <div class="game-card ${cardClass}" data-source="${sourceFolder}">
                    <span class="level-badge" style="${badgeStyle}">${level}</span>
                    <h3>${title}</h3>
                    <p>${desc}</p>
                    <a href="${gameUrl}" class="play-btn">Play Now â¡ï¸</a>
                </div>
                `;
                
                gamesGrid.innerHTML += cardHTML;
            });

            allContentContainer.appendChild(gamesGrid);
        });
    }

    // --- OLAY DÄ°NLEYÄ°CÄ°LERÄ° ---
    
    // Navigasyon tÄ±klamalarÄ±nÄ± yÃ¶netme
    navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            
            // TÃ¼m aktif sÄ±nÄ±flarÄ± kaldÄ±r
            document.querySelectorAll('#navbar a').forEach(nav => nav.classList.remove('active-link'));
            
            // TÄ±klananÄ± aktif yap
            e.target.classList.add('active-link');

            const filter = e.target.getAttribute('data-filter');
            
            // Filtre varsa iÃ§eriÄŸi gÃ¶ster, yoksa (Home butonu) All iÃ§eriÄŸini gÃ¶ster
            displayContent(filter || 'All');
        });
    });

    // Sayfa yÃ¼klendiÄŸinde tÃ¼m iÃ§erikleri Ã§ek ve varsayÄ±lan olarak All'u gÃ¶ster
    document.addEventListener('DOMContentLoaded', () => {
        loadAllContent();
        // Sayfa yÃ¼klendiÄŸinde Home butonunu aktif yapar (varsayÄ±lan 'All')
        document.getElementById('nav-home').classList.add('active-link');
    });
</script>

</body>
</html>
